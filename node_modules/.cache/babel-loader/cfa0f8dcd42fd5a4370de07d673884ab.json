{"ast":null,"code":"var _jsxFileName = \"D:\\\\codes\\\\NODEJS-funix\\\\assignment02\\\\frontend\\\\src\\\\components\\\\SignInComps\\\\SignInForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from \"react\";\nimport styles from \"./SignInForm.module.css\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignInForm() {\n  _s();\n\n  const navigate = useNavigate();\n  const userNameRef = useRef();\n  const passwordRef = useRef();\n  const validateData = {\n    userNameValid: true,\n    passwordValid: true\n  };\n  const [validation, setValidation] = useState(validateData);\n\n  function logIn(e) {\n    e.preventDefault();\n    const userName = userNameRef.current.value;\n    const password = passwordRef.current.value;\n    axios.get(`http://localhost:5000/get-user/${userName}`).then(res => {\n      console.log(res.data); // Xac thuc tai khoan tai day:\n      // (Se lam them phan nay sau khi hoc xong phan3 NodeJS)\n      // neu dung mk thi luu nguoi dung vao localStorage va chuyen den trang Home\n\n      if (res.status === 402) {\n        setValidation(valid => {\n          const newValidState = { ...valid,\n            userNameValid: false\n          };\n          return newValidState;\n        });\n      }\n\n      if (password === res.data.password) {\n        localStorage.setItem(\"currentUser\", JSON.stringify(res.data));\n        navigate(\"/home\");\n      } else {}\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles[\"sign-in-actions\"],\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"#\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        id: \"email\",\n        placeholder: \"Email\",\n        ref: userNameRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        id: \"password\",\n        placeholder: \"Password\",\n        ref: passwordRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logIn,\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignInForm, \"3Q/qGTlXG4NeXvRFbJtQIl8Gm+0=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SignInForm;\nexport default SignInForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"sources":["D:/codes/NODEJS-funix/assignment02/frontend/src/components/SignInComps/SignInForm.jsx"],"names":["React","useRef","useState","styles","axios","useNavigate","SignInForm","navigate","userNameRef","passwordRef","validateData","userNameValid","passwordValid","validation","setValidation","logIn","e","preventDefault","userName","current","value","password","get","then","res","console","log","data","status","valid","newValidState","localStorage","setItem","JSON","stringify","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;AACA,SAASC,UAAT,GAAsB;AAAA;;AAClB,QAAMC,QAAQ,GAAGF,WAAW,EAA5B;AACA,QAAMG,WAAW,GAAGP,MAAM,EAA1B;AACA,QAAMQ,WAAW,GAAGR,MAAM,EAA1B;AAEA,QAAMS,YAAY,GAAG;AACjBC,IAAAA,aAAa,EAAE,IADE;AAEjBC,IAAAA,aAAa,EAAE;AAFE,GAArB;AAKA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAACQ,YAAD,CAA5C;;AAEA,WAASK,KAAT,CAAeC,CAAf,EAAkB;AACdA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,QAAQ,GAAGV,WAAW,CAACW,OAAZ,CAAoBC,KAArC;AACA,UAAMC,QAAQ,GAAGZ,WAAW,CAACU,OAAZ,CAAoBC,KAArC;AACAhB,IAAAA,KAAK,CACAkB,GADL,CACU,kCAAiCJ,QAAS,EADpD,EAEKK,IAFL,CAEWC,GAAD,IAAS;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EADW,CAEX;AACA;AACA;;AACA,UAAIH,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACpBd,QAAAA,aAAa,CAAEe,KAAD,IAAW;AACrB,gBAAMC,aAAa,GAAG,EAClB,GAAGD,KADe;AAElBlB,YAAAA,aAAa,EAAE;AAFG,WAAtB;AAIA,iBAAOmB,aAAP;AACH,SANY,CAAb;AAOH;;AAED,UAAIT,QAAQ,KAAKG,GAAG,CAACG,IAAJ,CAASN,QAA1B,EAAoC;AAChCU,QAAAA,YAAY,CAACC,OAAb,CACI,aADJ,EAEIC,IAAI,CAACC,SAAL,CAAeV,GAAG,CAACG,IAAnB,CAFJ;AAIApB,QAAAA,QAAQ,CAAC,OAAD,CAAR;AACH,OAND,MAMO,CACN;AACJ,KAzBL,EA0BK4B,KA1BL,CA0BYC,GAAD,IAASX,OAAO,CAACC,GAAR,CAAYU,GAAZ,CA1BpB;AA2BH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAEjC,MAAM,CAAC,iBAAD,CAAtB;AAAA,2BACI;AAAM,MAAA,MAAM,EAAC,GAAb;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AACI,QAAA,IAAI,EAAC,OADT;AAEI,QAAA,IAAI,EAAC,OAFT;AAGI,QAAA,EAAE,EAAC,OAHP;AAII,QAAA,WAAW,EAAC,OAJhB;AAKI,QAAA,GAAG,EAAEK;AALT;AAAA;AAAA;AAAA;AAAA,cAFJ,eASI;AACI,QAAA,IAAI,EAAC,UADT;AAEI,QAAA,IAAI,EAAC,UAFT;AAGI,QAAA,EAAE,EAAC,UAHP;AAII,QAAA,WAAW,EAAC,UAJhB;AAKI,QAAA,GAAG,EAAEC;AALT;AAAA;AAAA;AAAA;AAAA,cATJ,eAgBI;AAAQ,QAAA,OAAO,EAAEM,KAAjB;AAAwB,QAAA,IAAI,EAAC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAwBH;;GArEQT,U;UACYD,W;;;KADZC,U;AAuET,eAAeA,UAAf","sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport styles from \"./SignInForm.module.css\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nfunction SignInForm() {\r\n    const navigate = useNavigate();\r\n    const userNameRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const validateData = {\r\n        userNameValid: true,\r\n        passwordValid: true,\r\n    };\r\n\r\n    const [validation, setValidation] = useState(validateData);\r\n\r\n    function logIn(e) {\r\n        e.preventDefault();\r\n        const userName = userNameRef.current.value;\r\n        const password = passwordRef.current.value;\r\n        axios\r\n            .get(`http://localhost:5000/get-user/${userName}`)\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                // Xac thuc tai khoan tai day:\r\n                // (Se lam them phan nay sau khi hoc xong phan3 NodeJS)\r\n                // neu dung mk thi luu nguoi dung vao localStorage va chuyen den trang Home\r\n                if (res.status === 402) {\r\n                    setValidation((valid) => {\r\n                        const newValidState = {\r\n                            ...valid,\r\n                            userNameValid: false,\r\n                        };\r\n                        return newValidState;\r\n                    });\r\n                }\r\n\r\n                if (password === res.data.password) {\r\n                    localStorage.setItem(\r\n                        \"currentUser\",\r\n                        JSON.stringify(res.data)\r\n                    );\r\n                    navigate(\"/home\");\r\n                } else {\r\n                }\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    return (\r\n        <div className={styles[\"sign-in-actions\"]}>\r\n            <form action=\"#\">\r\n                <h1>Log In</h1>\r\n                <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    id=\"email\"\r\n                    placeholder=\"Email\"\r\n                    ref={userNameRef}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"Password\"\r\n                    ref={passwordRef}\r\n                />\r\n                <button onClick={logIn} type=\"submit\">\r\n                    Login\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignInForm;\r\n"]},"metadata":{},"sourceType":"module"}